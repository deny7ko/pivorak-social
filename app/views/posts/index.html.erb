<%= turbo_frame_tag "posts_page_#{@pagy.page}" do %>
  <% @posts.each do |post| %>
    <%= turbo_frame_tag dom_id(post) do %>
      <%= render partial: 'post', locals: { post: post } %>
    <% end %>
  <% end %>

  <% if @pagy.next %>
    <%= turbo_frame_tag "posts_page_#{@pagy.next}", src: posts_path(page: @pagy.next), loading: :lazy do %>
      <%= render 'posts/placeholder_group' %>
    <% end %>
  <% end %>
<% end %>
